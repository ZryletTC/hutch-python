

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Reporting Issues &mdash; hutch-python 0.2.1+74.g6feef92 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="hutch-python 0.2.1+74.g6feef92 documentation" href="index.html"/>
        <link rel="next" title="Useful Utilities" href="user_utils.html"/>
        <link rel="prev" title="Experiment File" href="experiment.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> hutch-python
          

          
          </a>

          
            
            
              <div class="version">
                0.2.1+74.g6feef92
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="start.html">Starting a Session</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">What to Expect When You are Expecting a New Hutch Python</a></li>
</ul>
<p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="startup.html">Startup Sequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="beamline.html">Beamline File</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiment.html">Experiment File</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reporting Issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#issue-lifecyle">Issue Lifecyle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_utils.html">Useful Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_modules.html">Related Modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="hutch_setup.html">Hutch Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="yaml_files.html">Yaml Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug.html">Debug</a></li>
</ul>
<p class="caption"><span class="caption-text">Internal API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bug.html">bug.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="cache.html">cache.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">cli.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipython_log.html">ipython_log.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_conf.html">load_conf.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="load_parts.html">load submodules</a></li>
<li class="toctree-l1"><a class="reference internal" href="log_setup.html">log_setup.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">namespace.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">utils.py</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">hutch-python</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Reporting Issues</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/report.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="reporting-issues">
<h1>Reporting Issues<a class="headerlink" href="#reporting-issues" title="Permalink to this headline">¶</a></h1>
<p>One advantage of standardizing the logging system and startup scripts with
hutch-python is programmatically being able to gather information about the
current Python environment. One common use case for much of this information
is being able to diagnose software bugs after the fact if we are diligent about
recording the pertinent information. The <a class="reference internal" href="generated/hutch_python.bug.report_bug.html#hutch_python.bug.report_bug" title="hutch_python.bug.report_bug"><code class="xref any py py-func docutils literal notranslate"><span class="pre">hutch_python.bug.report_bug</span></code></a> command
wraps much of this functionality up by asking a few simple questions of the
operator and noting the current environment and log file. By the end of the
function we should have:</p>
<blockquote>
<div><ul class="simple">
<li>A one line description of the problem</li>
<li>A more verbose explanation of the issue and how it affects operations</li>
<li>A name to follow up with additional questions / closeout</li>
<li>The commands entered by the operator</li>
<li>The current CONDA environment</li>
<li>Relevant logfiles written to by this Python session</li>
<li>Capture output printed to the terminal</li>
<li>Any packages installed in “development” mode</li>
</ul>
</div></blockquote>
<p>This command is available as both an actual Python function and an IPython
magic. The ladder allows you to pinpoint the exact function that is causing
issues.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">report_bug</span> <span class="n">my_buggy_function</span><span class="p">()</span>
</pre></div>
</div>
<p>If you call <a class="reference internal" href="generated/hutch_python.bug.report_bug.html#hutch_python.bug.report_bug" title="hutch_python.bug.report_bug"><code class="xref any py py-func docutils literal notranslate"><span class="pre">report_bug</span></code></a> as a regular function you can specify a number of past
commands you want to include in the overall report. This allows you to
posthumously report issues without running the actual function again.</p>
<blockquote>
<div><dl class="function">
<dt>
<code class="descclassname">hutch_python.bug.</code><code class="descname">report_bug</code><span class="sig-paren">(</span><em>title=None</em>, <em>description=None</em>, <em>author=None</em>, <em>prior_commands=None</em>, <em>captured_output=None</em>, <em>**kwargs</em><span class="sig-paren">)</span></dt>
<dd><p>Report a bug from the IPython session</p>
<p>The purpose of this command is to collect the necessary information to
later help diagnose and troubleshoot the issue. This is written as an
interactive tool, but it can be used in a non-interactive way by entering
the information on the call.</p>
<p>By the end we should have gathered:</p>
<blockquote>
<div><ul class="simple">
<li>A brief description of the problem</li>
<li>The relevant commands to the bug report</li>
<li>Name of the current CONDA environment</li>
<li>Any packages installed in “development” mode</li>
<li>Relevant logfiles</li>
<li>Name of bug report author</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) – One sentence description of the issue</li>
<li><strong>description</strong> (<em>str</em><em>, </em><em>optional</em>) – Written description of problem. If this is not provided, a text editor
is launched that request the information from the user</li>
<li><strong>author</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of bug report author. If not provided, this is requested from the
user via command line</li>
<li><strong>prior_commands</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of prior commands to capture. If this is not provided, this is
requested from the user via command line.</li>
<li><strong>captured_output</strong> (<em>str</em><em>, </em><em>optional</em>) – Captured output from the command</li>
<li><strong>kwargs</strong> – Pass authentication information to <a class="reference internal" href="generated/hutch_python.bug.post_to_github.html#hutch_python.bug.post_to_github" title="hutch_python.bug.post_to_github"><code class="xref py py-func docutils literal notranslate"><span class="pre">post_to_github()</span></code></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div></blockquote>
<div class="section" id="issue-lifecyle">
<h2>Issue Lifecyle<a class="headerlink" href="#issue-lifecyle" title="Permalink to this headline">¶</a></h2>
<p>After reporting the issue on the command line, an issue will be created at
<a class="reference external" href="https://github.com/pcdshub/Bug-Reports">https://github.com/pcdshub/Bug-Reports</a>. This will alert those subscribed to
this repository via email about the current issue and appropriate action will
be made by the PCDS staff. This may mean a deeper look at the linked log files
and/or creating a distilled issue or action item in a different repository.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="user_utils.html" class="btn btn-neutral float-right" title="Useful Utilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="experiment.html" class="btn btn-neutral" title="Experiment File" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright .

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.1+74.g6feef92',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>